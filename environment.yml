name: sfp
channels:
  - pytorch
  - conda-forge
  - bioconda
  - defaults
dependencies:
  # --- Pinned (critical compatibility constraints) ---
  - python=3.8          # snakemake 5.x requires <3.10; numpy 1.23.5 requires >=3.8
  - numpy=1.23.5        # 1.21 segfaults w/ torch on macOS; 1.24+ removes np.float (breaks nibabel)
  - pytorch=2.2.2
  # --- Range-pinned (breaking changes at upper bound) ---
  - snakemake>=5.32,<6  # 6.x+ has breaking API changes
  - pandas>=1.3,<2.0    # DataFrame.append() removed in 2.0
  - seaborn>=0.11,<0.14 # seaborn.algorithms.bootstrap removed in 0.14
  # --- Unpinned (no version-sensitive usage) ---
  - matplotlib
  - scipy
  - pyyaml
  - h5py
  - pip
  - pip:
      - nibabel>=3.1,<4.0  # 4.x may break with numpy 1.23
      - scikit-learn
      - pillow
      - requests
      - git+https://github.com/cvnlab/GSN.git
